<div class="service-form-container">
  <div class="header">
    <h1>{{ isEditMode ? 'Editar Servicio' : 'Nuevo Servicio' }}</h1>
  </div>

  <mat-card>
    <mat-card-content>
      <form [formGroup]="serviceForm" (ngSubmit)="onSubmit()">
        
        <div class="section">
          <h2>Información del Servicio</h2>
          
          <div class="form-row">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Nombre del Servicio</mat-label>
              <input 
                matInput 
                formControlName="serviceName" 
                placeholder="Ej: Desarrollo Web, Consultoría IT">
              <mat-icon matPrefix>miscellaneous_services</mat-icon>
              <mat-error *ngIf="serviceForm.get('serviceName')?.invalid">
                {{ getErrorMessage('serviceName') }}
              </mat-error>
            </mat-form-field>
          </div>

          <div class="form-row">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Tarifa por Hora (USD)</mat-label>
              <input 
                matInput 
                type="number"
                formControlName="hourlyRateUSD" 
                placeholder="0.00"
                min="0"
                step="0.01">
              <mat-icon matPrefix>attach_money</mat-icon>
              <mat-error *ngIf="serviceForm.get('hourlyRateUSD')?.invalid">
                {{ getErrorMessage('hourlyRateUSD') }}
              </mat-error>
              <mat-hint>Ingrese la tarifa en dólares estadounidenses</mat-hint>
            </mat-form-field>
          </div>

          <div class="form-row">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Descripción</mat-label>
              <textarea 
                matInput 
                formControlName="description"
                placeholder="Descripción detallada del servicio..."
                rows="4"
                maxlength="500">
              </textarea>
              <mat-icon matPrefix>description</mat-icon>
              <mat-hint align="end">
                {{ serviceForm.get('description')?.value?.length || 0 }}/500
              </mat-hint>
              <mat-error *ngIf="serviceForm.get('description')?.invalid">
                {{ getErrorMessage('description') }}
              </mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="section info-section">
          <mat-icon>info</mat-icon>
          <div class="info-content">
            <h3>Gestión de Países</h3>
            <p>
              La asignación de países a servicios estará disponible próximamente.
              Esta funcionalidad requiere configuración adicional en el sistema.
            </p>
          </div>
        </div>

        <div class="actions">
          <button 
            mat-stroked-button 
            type="button" 
            (click)="cancel()">
            Cancelar
          </button>
          <button 
            mat-raised-button 
            color="primary" 
            type="submit"
            [disabled]="serviceForm.invalid || loading">
            <mat-icon>save</mat-icon>
            {{ isEditMode ? 'Actualizar' : 'Crear' }} Servicio
          </button>
        </div>
      </form>

      <div class="loading-overlay" *ngIf="loading">
        <mat-spinner></mat-spinner>
      </div>
    </mat-card-content>
  </mat-card>
</div>