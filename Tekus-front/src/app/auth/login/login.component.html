<div class="premium-login-container">
    <div class="animated-bg">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
        <div class="mesh-gradient"></div>
    </div>

    <div class="glass-card">
        
        <div class="brand-header">
            <div class="brand-icon">
                <mat-icon class="brand-logo">business</mat-icon>
                <div class="icon-glow"></div>
            </div>
            <div class="brand-text">
                <h1>TEKUS Sistema</h1>
                <p>Gestión de Proveedores</p>
            </div>
        </div>

        <form [formGroup]="loginFormGroup" (ngSubmit)="onSubmit()" class="auth-form">
            
            <div class="form-group">
                <div class="floating-label-group">
                    <div class="input-icon-wrapper">
                        <mat-icon>alternate_email</mat-icon>
                    </div>
                    <input 
                        type="email"
                        class="glass-input"
                        formControlName="email"
                        placeholder=" "
                        autocomplete="username"
                        id="email-input">
                    <label for="email-input" class="floating-label">Correo Electrónico</label>
                    <div class="input-border"></div>
                </div>
                <div *ngIf="shouldShowEmailError()" class="validation-error">
                    <mat-icon>error_outline</mat-icon>
                    <span>{{ getEmailErrorMessage() }}</span>
                </div>
            </div>

            <div class="form-group">
                <div class="floating-label-group">
                    <div class="input-icon-wrapper">
                        <mat-icon>lock_outline</mat-icon>
                    </div>
                    <input 
                        [type]="hide() ? 'password' : 'text'"
                        class="glass-input"
                        formControlName="password"
                        placeholder=" "
                        autocomplete="current-password"
                        id="password-input">
                    <label for="password-input" class="floating-label">Contraseña</label>
                    <button 
                        type="button"
                        class="password-toggle"
                        (click)="togglePasswordVisibility($event)">
                        <mat-icon>{{ hide() ? 'visibility_off' : 'visibility' }}</mat-icon>
                    </button>
                    <div class="input-border"></div>
                </div>
                <div *ngIf="shouldShowPasswordError()" class="validation-error">
                    <mat-icon>error_outline</mat-icon>
                    <span>{{ getPasswordErrorMessage() }}</span>
                </div>
            </div>

            <div *ngIf="shouldShowPasswordHint()" class="info-chip">
                <mat-icon>security</mat-icon>
                <span>Mínimo 8 caracteres para mayor seguridad</span>
            </div>

            <button 
                type="submit"
                class="premium-button"
                [disabled]="!(loginFormGroup.valid && !isLoading())">
                <div class="button-bg"></div>
                <div class="button-content">
                    <span *ngIf="!isLoading()">Acceder</span>
                    <mat-icon *ngIf="!isLoading()">arrow_forward_ios</mat-icon>
                    <mat-spinner *ngIf="isLoading()" diameter="22"></mat-spinner>
                    <span *ngIf="isLoading()">Verificando...</span>
                </div>
            </button>

        </form>

        <div class="trust-badges">
            <div class="badge">
                <mat-icon>https</mat-icon>
                <span>256-bit SSL</span>
            </div>
            <div class="badge">
                <mat-icon>verified</mat-icon>
                <span>Autenticación Segura</span>
            </div>
        </div>

        <div class="login-footer">
            <p>&copy; {{ currentYear }} TEKUS S.A.S.</p>
        </div>

    </div>

    <div class="floating-shapes">
        <div class="shape shape-square"></div>
        <div class="shape shape-circle"></div>
        <div class="shape shape-triangle"></div>
    </div>
</div>
